#!/usr/bin/env bash
# vim: filetype=sh foldmethod=marker shiftwidth=2 expandtab softtabstop=4:
#
# Â© Copyright 2019 Ryan Delaney. All rights reserved.
# This work is distributed WITHOUT ANY WARRANTY whatsoever; without even the
# implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
# See the README file for additional terms and conditions on your use of this
# software.
#

for file in "$@"; do
  date="$(date +%Y%m%d-%H%m%S)" || exit
  if command -v greadlink &> /dev/null; then
    oldname="$(greadlink -f "$file")" || exit
  else
    oldname="$(readlink -f "$file")" || exit
  fi
  newname="$oldname".bak."$date"
  cp "$file" "$newname"
done

# EOF
