#!/usr/bin/env bash
# GNU bash, version 4.3.42(1)-release (x86_64-apple-darwin14.5.0)
#
# Â© Copyright 2016 Ryan Delaney. All rights reserved.
# This work is distributed WITHOUT ANY WARRANTY whatsoever; without even the
# implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
# See the README file for additional terms and conditions on your use of this
# software.
#

for file in "$@"; do
  date="$(date +%Y%m%d-%H%m%S)" || exit 1
  if command -v greadlink &> /dev/null; then
    oldname="$(greadlink -f "$file")" || exit 1
  else
    oldname="$(readlink -f "$file")" || exit 1
  fi
  newname="$oldname".bak."$date"
  cp "$file" "$newname" || exit 1
done

# vim: filetype=sh foldmethod=marker shiftwidth=2 expandtab softtabstop=4:
